# プログラミングI 第6回

## 前回の課題


* 配列 に対して平均を計算するメソッドを作成してください。
	* until文で合計を計算してください

* 配列 w=[71.0, 54.3, 58.1, 52.1, 82.5, 79.0]  を上記のメソッドで実際に計算し、その結果を書いてください

### メソッドにする前のプログラム

 数値の配列データの合計を計算する

```ruby
a=[71.0, 54.3, 58.1, 52.1, 82.5, 79.0] 
s=0
begin
  h=a.shift
  s=s+h
end until a==[]
puts s
```

```
397.0
```

### 平均を計算する

```ruby
a=[71.0, 54.3, 58.1, 52.1, 82.5, 79.0] 
size=a.size
s=0
begin
  h=a.shift
  s=s+h
end until a==[]
m=s/size
puts m
```

```
66.16666666666667
```

### メソッドにする

```ruby
def average(a)
  size=a.size
  s=0
  begin
    h=a.shift
    s=s+h
  end until a==[]
  m=s/size
  return m
end
```

実行結果

```ruby
w=[71.0, 54.3, 58.1, 52.1, 82.5, 79.0]
puts average(w)

66.16666666666667
```

## 範囲(Range)
### 配列オブジェクトや範囲オブジェクトのクラス名の確認

```ruby
puts [1,2,3].class
puts (1..3).class
```

実行結果

```
Array
Range
```

### 範囲(Range)オブジェクトの配列変換

```ruby
p (1..10).to_a
p ("a".."h").to_a
```

結果

```ruby
[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
["a", "b", "c", "d", "e", "f", "g", "h"]
```

```ruby
p ("あ".."ん").to_a
p ("亜".."碗").to_a
```

結果

```ruby
["あ", "ぃ", "い", "ぅ", "う", "ぇ", "え", "ぉ", "お", "か", "が", "き", "ぎ", "く", "ぐ", "け", "げ", "こ", "ご", "さ", "ざ", "し", "じ", "す", "ず", "せ", "ぜ", "そ", "ぞ", "た", "だ", "ち", "ぢ", "っ", "つ", "づ", "て", "で", "と", "ど", "な", "に", "ぬ", "ね", "の", "は", "ば", "ぱ", "ひ", "び", "ぴ", "ふ", "ぶ", "ぷ", "へ", "べ", "ぺ", "ほ", "ぼ", "ぽ", "ま", "み", "む", "め", "も", "ゃ", "や", "ゅ", "ゆ", "ょ", "よ", "ら", "り", "る", "れ", "ろ", "ゎ", "わ", "ゐ", "ゑ", "を", "ん"]


["亜", "亝", "亞", "亟", "亠", "亡", "亢", "亣", "交", "亥", "亦", "产", "亨", "亩", "亪", "享", "京", "亭", "亮", "亯", "亰", "亱", "亲", "亳", "亴", "亵", "亶", "亷", "亸", "亹", "人", "亻", "亼", "亽", "亾", "亿", "什", "仁", "仂", "仃", "仄", "仅", "仆", "仇", ...

硳", "硴", "硵", "硶", "硷", "硸", "硹", "硺", "硻", "硼", "硽", "硾", "硿", "碀", "碁", "碂", "碃", "碄", "碅", "碆", "碇", "碈", "碉", "碊", "碋", "碌", "碍", "碎", "碏", "碐", "碑", "碒", "碓", "碔", "碕", "碖", "碗"]
```

### 配列のデータを範囲で取り出す

```ruby
w=[1,2,3,4,5,6,7]
p w[(2..5)]
```

```ruby
m=["ジョーズ", 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0]
p m[(1..-1)]
```

```ruby
[0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0]
```

### 範囲オブジェクトの要素判断


```ruby
(1..31).member?(15)
true

(1..31).member?(32)
false
```

## eachメソッド

```ruby
[0,1,2,3,4].each do |x|
                 puts 2*x
end
```

```ruby
[0,1,2,3,4].each { |x|
                 puts 2*x
}
```


### eachメソッドによる配列の合計

```ruby
s=0
[0,1,2,3,4].each do |x|
   s=s+x
end
puts s
```

### eachメソッドによる配列の合計のメソッド

```ruby
def sum(a)
  s=0
  a.each do |x|
    s=s+x
  end
  return s
end
```

```ruby
def sum(a)
  s=0
  a.each {|x|s=s+x}
  return s
end
```

## 範囲オブジェクトのeachメソッド

```ruby
s=0
(0..4).each {|x|s=s+x}
puts s
```

### 範囲オブジェクトを利用した1からｎまでの合計メソッド

```ruby
def gokei(n)
  s=0
  (1..n).each {|x|s=s+x}
  return s
end

puts gokei(10)
```

### 範囲オブジェクトを利用した階乗計算メソッド

```ruby
def kaijo(n)
  m=1
  (1..n).each {|x|m=m*x}
  return m
end

puts kaijo(10)
```

## for文

```ruby
for x in [0,1,2,3,4] do
  puts 2*x 
end

```

### for文による配列の合計メソッド

```ruby
def gokei(a)
  s=0 
  for x in a do
    s=s+x 
  end
  return s
end

puts gokei([1,2,3,4])
```

### for文による１からnの範囲の合計メソッド

```ruby
def gokei(n)
  s=0 
  for x in (1..n) do
    s=s+x 
  end
  return s
end
```

### for文によるnの階乗メソッド

```ruby
def kaijo(n)
  m=1 
  for x in (1..n) do
    m=m*x 
  end
  return m
end
```

## reduceメソッド

配列や範囲に対する繰り返し計算（イテレータ）での変数の初期化と累積をまとめたもの

### 配列の合計

```ruby
puts [1,2,3,4].reduce(0){|s,x|s+x}
```

### 配列の合計を行うメソッド

```ruby
def gokei(a)
  return a.reduce(0){|s,x|s+x}
end

puts gokei([1,2,3,4,5])
```
### 範囲の合計メソッド

```ruby
def gokei(n)
  return (1..n).reduce(0){|s,x|s+x}
end

puts gokei(100)
```


### 階乗計算

```ruby
puts (1..10).reduce(1){|m,x|m*x}
```

### 階乗計算のメソッド

```ruby
def kaijo(n)
  return (1..n).reduce(1){|m,x|m*x}
end

puts kaijo(10)
```

## 課題

* 数値の配列データの平均値を計算するメソッドを
	* for文を使ったもの
	* eachメソッドを使ったもの
	* reduceメソッドを使ったもの

以上をそれぞ作成してください

* data=[63.5, 72.1, 59.1, 47.5, 83.9]
を使って、実際にそれぞれのメソッドで計算した実行文と実行結果も提出してください



