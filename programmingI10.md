# プログラミングI 第10回
正規表現と分岐制御

## 前回の課題

映画の視聴記録から２段階のハッシュ表を作成するプログラムを以下の方法で作成してください

* eachメソッドを使う方法
* for文を使う方法

作成した表を使って、以下の映画のそれぞれについて

類似度が高い順に５つ取り出し、さらにその５つの中から類似度が0.4に満たないものは reject メソッドを使って除いた結果を表示してください

* 未来のミライ
* バタフライ・エフェクト
* グレイテストショーマン
* フォレストガンプ
* シェイプオブウォーター
* アオハライド

###  前回への基本的アプローチ



## 正規表現

●文字列の繰り返し

p /Goo*gl/=~"Gogl"
p /Goo*gl/=~"Googl"
p /Goo*gl/=~"Gooooooogl"

p /Goo+gl/=~"Gogl"
p /Goo+gl/=~"Googl"
p /Goo+gl/=~"Gooooooogl"

p /Goo?gl/=~"Gogl"
p /Goo?gl/=~"Googl"
p /Goo?gl/=~"Gooogl"

●任意の１文字とマッチする

p /私は.です/=~"私は神です"
p /私は.です/=~"私は人間です"
p /私は..です/=~"私は人間です"
p /私は.+です/=~"私はホモ・サピエンスです"

●[]の中のどれか１文字とマッチする

p /私は[鰻肉鮨]を食べたい/=~"私は鰻を食べたい"
p /私は[鰻肉鮨]を食べたい/=~"私は肉を食べたい"
p /私は[鰻肉鮨]を食べたい/=~"私は鮨を食べたい"
p /私は[鰻肉鮨]を食べたい/=~"私は米を食べたい"

●| で区切られたどれかの文字列とマッチする

p /私は(ステーキ|寿司)を食べたい/=~"私はステーキを食べたい"
p /私は(ステーキ|寿司)を食べたい/=~"私は寿司を食べたい"
p /私は(ステーキ|寿司)を食べたい/=~"私はいくらを食べたい"

●^	文字列の先頭のときだけマッチする

p /^カモシカ/ =~ "鹿もカモシカも鹿である"
p /^カモシカ/ =~ "カモシカは鹿である"

●$ 文字列の最後のときだけマッチする

p /ですか$/ =~ "あなたは大学教授ですか"
p /ですか$/ =~ "ああ大学教授ですか、ご愁傷さまです"

●メタ文字のエスケープ

p /www.kindai.ac.jp/=~"http://www=kindai-ac+jp"
p /www\.kindai\.ac\.jp/=~"http://www=kindai-ac+jp"
p /www\.kindai\.ac\.jp/=~"http://www.kindai.ac.jp"

●松岡修造ボット

def shuzo(msg)
  if /(どうしても|何度やっても|なかなか)/ =~ msg 
  then
    puts "今日からお前は、富士山だ！"
    puts "富士山みたいに日本一になるんだ！"
  end
  if /(悩んで|難し|挫折しそう|わからない|苦手)/ =~ msg 
  then
    puts "今日から君は噴水だ!!"
    puts "噴水を見てみろよ。噴水は、喜びも悲しみも、楽しさも悔しさも、すべてを一所懸命出し切っている。"
    puts "だから、あれほどキラキラと輝いているんだよ"
    puts "君も噴水になってみろ。"
  end
end

shuzo("どうしてもプログラミングがうまくなりません")
shuzo("プログラミングに挫折しそうです")

■課題
正規表現によるパターンマッチを利用して、できるだけ自然な会話をする美輪明宏ボットのプログラムを作成してください

例
miwasan("私のオーラは何色ですか")
=> あなたのオーラの色は紫ね

miwasan("私の前世は何ですか")
=> あなたの前世はピカチューね

miwasan("どうしてわかるんですか")
=> 見えるのよ



